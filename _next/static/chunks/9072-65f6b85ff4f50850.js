"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9072],{1448:(e,t,a)=>{var r=Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]},n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},l=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t})(t)};return function(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var l=e(t),o=0;o<l.length;o++)"default"!==l[o]&&r(a,t,l[o]);return n(a,t),a}}(),o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};Object.defineProperty(t,"__esModule",{value:!0}),t.AlertDialog=function(e){var t=o(e,[]);return(0,s.jsx)(i.Root,Object.assign({"data-slot":"alert-dialog"},t))},t.AlertDialogPortal=d,t.AlertDialogOverlay=g,t.AlertDialogTrigger=function(e){var t=o(e,[]);return(0,s.jsx)(i.Trigger,Object.assign({"data-slot":"alert-dialog-trigger"},t))},t.AlertDialogContent=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsxs)(d,{children:[(0,s.jsx)(g,{}),(0,s.jsx)(i.Content,Object.assign({"data-slot":"alert-dialog-content",className:(0,c.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t)},a))]})},t.AlertDialogHeader=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)("div",Object.assign({"data-slot":"alert-dialog-header",className:(0,c.cn)("flex flex-col gap-2 text-center sm:text-left",t)},a))},t.AlertDialogFooter=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)("div",Object.assign({"data-slot":"alert-dialog-footer",className:(0,c.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t)},a))},t.AlertDialogTitle=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Title,Object.assign({"data-slot":"alert-dialog-title",className:(0,c.cn)("text-lg font-semibold",t)},a))},t.AlertDialogDescription=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Description,Object.assign({"data-slot":"alert-dialog-description",className:(0,c.cn)("text-muted-foreground text-sm",t)},a))},t.AlertDialogAction=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Action,Object.assign({className:(0,c.cn)((0,u.buttonVariants)(),t)},a))},t.AlertDialogCancel=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Cancel,Object.assign({className:(0,c.cn)((0,u.buttonVariants)({variant:"outline"}),t)},a))};let s=a(95155),i=l(a(3770)),c=a(27010),u=a(51825);function d(e){var t=o(e,[]);return(0,s.jsx)(i.Portal,Object.assign({"data-slot":"alert-dialog-portal"},t))}function g(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Overlay,Object.assign({"data-slot":"alert-dialog-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t)},a))}},3770:(e,t,a)=>{var r=Object.create,n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,c=(e,t,a,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||s===a||n(e,s,{get:()=>t[s],enumerable:!(r=l(t,s))||r.enumerable});return e},u=(e,t,a)=>(a=null!=e?r(s(e)):{},c(!t&&e&&e.__esModule?a:n(a,"default",{value:e,enumerable:!0}),e)),d={};((e,t)=>{for(var a in t)n(e,a,{get:t[a],enumerable:!0})})(d,{Action:()=>q,AlertDialog:()=>N,AlertDialogAction:()=>F,AlertDialogCancel:()=>z,AlertDialogContent:()=>S,AlertDialogDescription:()=>I,AlertDialogOverlay:()=>D,AlertDialogPortal:()=>A,AlertDialogTitle:()=>M,AlertDialogTrigger:()=>O,Cancel:()=>J,Content:()=>$,Description:()=>X,Overlay:()=>V,Portal:()=>U,Root:()=>R,Title:()=>G,Trigger:()=>W,createAlertDialogScope:()=>y}),e.exports=c(n({},"__esModule",{value:!0}),d);var g=u(a(12115)),f=a(86398),m=a(1814),p=u(a(53285)),h=a(53285),v=a(34546),x=a(92557),j=a(95155),b="AlertDialog",[w,y]=(0,f.createContextScope)(b,[h.createDialogScope]),C=(0,h.createDialogScope)(),N=e=>{let{__scopeAlertDialog:t,...a}=e,r=C(t);return(0,j.jsx)(p.Root,{...r,...a,modal:!0})};N.displayName=b;var O=g.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,n=C(a);return(0,j.jsx)(p.Trigger,{...n,...r,ref:t})});O.displayName="AlertDialogTrigger";var A=e=>{let{__scopeAlertDialog:t,...a}=e,r=C(t);return(0,j.jsx)(p.Portal,{...r,...a})};A.displayName="AlertDialogPortal";var D=g.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,n=C(a);return(0,j.jsx)(p.Overlay,{...n,...r,ref:t})});D.displayName="AlertDialogOverlay";var T="AlertDialogContent",[_,P]=w(T),k=(0,x.createSlottable)("AlertDialogContent"),S=g.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:r,...n}=e,l=C(a),o=g.useRef(null),s=(0,m.useComposedRefs)(t,o),i=g.useRef(null);return(0,j.jsx)(p.WarningProvider,{contentName:T,titleName:B,docsSlug:"alert-dialog",children:(0,j.jsx)(_,{scope:a,cancelRef:i,children:(0,j.jsxs)(p.Content,{role:"alertdialog",...l,...n,ref:s,onOpenAutoFocus:(0,v.composeEventHandlers)(n.onOpenAutoFocus,e=>{var t;e.preventDefault(),null==(t=i.current)||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,j.jsx)(k,{children:r}),(0,j.jsx)(H,{contentRef:o})]})})})});S.displayName=T;var B="AlertDialogTitle",M=g.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,n=C(a);return(0,j.jsx)(p.Title,{...n,...r,ref:t})});M.displayName=B;var E="AlertDialogDescription",I=g.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,n=C(a);return(0,j.jsx)(p.Description,{...n,...r,ref:t})});I.displayName=E;var F=g.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,n=C(a);return(0,j.jsx)(p.Close,{...n,...r,ref:t})});F.displayName="AlertDialogAction";var L="AlertDialogCancel",z=g.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...r}=e,{cancelRef:n}=P(L,a),l=C(a),o=(0,m.useComposedRefs)(t,n);return(0,j.jsx)(p.Close,{...l,...r,ref:o})});z.displayName=L;var H=e=>{let{contentRef:t}=e,a="`".concat(T,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(T,"` by passing a `").concat(E,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(T,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return g.useEffect(()=>{var e;document.getElementById(null==(e=t.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},R=N,W=O,U=A,V=D,$=S,q=F,J=z,G=M,X=I},5716:function(e,t,a){var r=a(87358),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OAuthButtons=function(){let{isInTelegram:e,isLoading:t}=(0,c.useTelegramWebApp)(),a=(0,g.useTranslations)("common"),n=(0,g.useTranslations)("auth"),m=(0,g.useTranslations)("auth.oauth");return e?(0,l.jsx)("div",{className:"flex flex-col items-center justify-center space-y-4 max-w-md mx-auto",children:(0,l.jsx)(i.TelegramWebAppAuth,{onSuccess:e=>{console.log("Telegram authentication successful:",e)},onError:e=>{console.error("Telegram authentication error:",e)},className:"w-full",autoAuth:!0})}):t?(0,l.jsxs)(u.Card,{className:"max-w-md mx-auto",children:[(0,l.jsxs)(u.CardHeader,{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(d.Loader2,{className:"h-5 w-5 animate-spin"}),(0,l.jsx)(u.CardTitle,{className:"text-lg",children:a("loading")})]}),(0,l.jsx)(u.CardDescription,{children:m("checkingOptions")})]}),(0,l.jsx)(u.CardContent,{children:(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)(d.Loader2,{className:"animate-spin h-8 w-8 text-muted-foreground"})})})]}):(0,l.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,l.jsx)(o.ProviderButton,{provider:"google",label:n("continueWith",{provider:"Google"}),icon:(0,l.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,l.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,l.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),(0,l.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),className:"w-full"}),(0,l.jsx)(o.ProviderButton,{provider:"yandex",label:n("continueWith",{provider:"Yandex"}),icon:(0,l.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M2 12C2 6.48 6.48 2 12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12Z",fill:"#FC3F1D"}),(0,l.jsx)("path",{d:"M13.155 17.833H15.314V6.167H12.647C9.521 6.167 8.138 7.574 8.138 9.786C8.138 11.602 8.995 12.779 10.635 14.197L8 17.833H10.379L13.155 13.971L12.269 13.232C10.95 12.126 10.264 11.269 10.264 9.692C10.264 8.458 11.082 7.696 12.647 7.696H13.155V17.833Z",fill:"white"})]}),className:"w-full"}),(0,l.jsx)(o.ProviderButton,{provider:"github",label:n("continueWith",{provider:"GitHub"}),icon:(0,l.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.166 6.839 9.489.5.092.682-.217.682-.482 0-.237-.009-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.155-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.682-.103-.253-.446-1.27.098-2.64 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.82c.85.004 1.705.114 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.37.202 2.387.1 2.64.64.698 1.028 1.591 1.028 2.682 0 3.842-2.338 4.687-4.566 4.935.359.308.678.92.678 1.85v2.748c0 .268.18.578.688.48A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z"})}),className:"w-full"}),(0,l.jsx)(o.ProviderButton,{provider:"facebook",label:n("continueWith",{provider:"Facebook"}),icon:(0,l.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#1877F2",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M22.676 0H1.324C.593 0 0 .593 0 1.324v21.352C0 23.407.593 24 1.324 24h11.494v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.323-.593 1.323-1.324V1.324C24 .593 23.407 0 22.676 0z"})}),className:"w-full bg-[#1877F2] hover:bg-[#1877F2]/90 text-white"}),(0,l.jsx)(o.ProviderButton,{provider:"vk",label:n("continueWith",{provider:"VK"}),icon:(0,l.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#4680C2",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M13.125 12.281L14.344 10.5H12.375V8.344C12.375 7.85625 12.6094 7.625 13.0969 7.625H14.375V5.8125C14.0156 5.76562 13.3906 5.71875 12.5 5.71875C10.6562 5.71875 9.5 6.82812 9.5 8.82812V10.5H7.5V12.281L9.5 14.062V18.281C9.5 18.9688 9.96875 19.4375 10.6562 19.4375H12.3125V16.1875C11.6094 16.1094 11.1562 15.625 11.1562 14.9375V14.062L13.125 12.281Z M21.0625 5.10938C20.3906 3.92188 19.2656 3.03125 17.9375 2.54688C16.2656 1.95312 14.3125 1.71875 12.1875 1.71875H11.8125C9.6875 1.71875 7.73438 1.95312 6.0625 2.54688C4.73438 3.03125 3.60938 3.92188 2.9375 5.10938C2.125 6.54688 1.71875 8.3125 1.71875 10.3125V13.6875C1.71875 15.6875 2.125 17.4531 2.9375 18.8906C3.60938 20.0781 4.73438 20.9688 6.0625 21.4531C7.73438 22.0469 9.6875 22.2812 11.8125 22.2812H12.1875C14.3125 22.2812 16.2656 22.0469 17.9375 21.4531C19.2656 20.9688 20.3906 20.0781 21.0625 18.8906C21.875 17.4531 22.2812 15.6875 22.2812 13.6875V10.3125C22.2812 8.3125 21.875 6.54688 21.0625 5.10938Z"})}),className:"w-full bg-[#4680C2] hover:bg-[#4680C2]/90 text-white"}),r.env.NEXT_PUBLIC_TELEGRAM_BOT_USERNAME&&!f&&(0,l.jsx)(s.default,{botUsername:r.env.NEXT_PUBLIC_TELEGRAM_BOT_USERNAME,buttonSize:"large",className:"w-full flex justify-center"})]})};let l=a(95155),o=a(24439),s=n(a(23289)),i=a(48589),c=a(24597),u=a(53959),d=a(47937),g=a(259),f="undefined"!=typeof window&&"localhost"===window.location.hostname},17180:(e,t,a)=>{var r=Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]},n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},l=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t})(t)};return function(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var l=e(t),o=0;o<l.length;o++)"default"!==l[o]&&r(a,t,l[o]);return n(a,t),a}}(),o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Avatar=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Root,Object.assign({"data-slot":"avatar",className:(0,c.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t)},a))},t.AvatarImage=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Image,Object.assign({"data-slot":"avatar-image",className:(0,c.cn)("aspect-square size-full",t)},a))},t.AvatarFallback=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Fallback,Object.assign({"data-slot":"avatar-fallback",className:(0,c.cn)("bg-muted flex size-full items-center justify-center rounded-full",t)},a))};let s=a(95155),i=l(a(71646)),c=a(27010)},22436:(e,t,a)=>{var r=a(12115),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useState,o=r.useEffect,s=r.useLayoutEffect,i=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!n(e,a)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),r=l({inst:{value:a,getSnapshot:t}}),n=r[0].inst,u=r[1];return s(function(){n.value=a,n.getSnapshot=t,c(n)&&u({inst:n})},[e,a,t]),o(function(){return c(n)&&u({inst:n}),e(function(){c(n)&&u({inst:n})})},[e]),i(a),a};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},23289:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});let r=a(95155),n=a(12115),l=a(259),o=a(12108),s=(0,function(e){return e&&e.__esModule?e:{default:e}}(a(74684)).default)("auth:telegram-button");t.default=e=>{let{botUsername:t,buttonSize:a="medium",cornerRadius:i,requestAccess:c,showUserPhoto:u=!0,lang:d="en",className:g,redirectUrl:f="/"}=e,m=(0,n.useRef)(null),p=(0,l.useTranslations)("auth");return((0,n.useEffect)(()=>{if(m.current&&t){s("\uD83D\uDD27 Setting up Telegram Login Widget",{botUsername:t,buttonSize:a,lang:d}),console.log("\uD83D\uDD27 Telegram Login Widget setup:",{botUsername:t,buttonSize:a,lang:d}),window.onTelegramAuth=e=>{s("\uD83D\uDCE8 Telegram authentication callback received:",e),console.log("\uD83D\uDCE8 Telegram authentication callback received:",{id:e.id,first_name:e.first_name,username:e.username,auth_date:e.auth_date,has_hash:!!e.hash,hash_length:e.hash?e.hash.length:0});try{(0,o.signIn)("telegram",Object.assign({callbackUrl:f,redirect:!1},e)).then(e=>{s("\uD83D\uDD04 NextAuth signIn result:",e),console.log("\uD83D\uDD04 NextAuth signIn result:",{ok:null==e?void 0:e.ok,error:null==e?void 0:e.error,status:null==e?void 0:e.status,url:(null==e?void 0:e.url)?"present":"missing"}),(null==e?void 0:e.ok)&&e.url?(s("✅ Telegram login successful, redirecting"),console.log("✅ Telegram login successful, redirecting to:",e.url),window.location.href=e.url):(null==e?void 0:e.error)?(s("❌ NextAuth signIn error:",e.error),console.error("❌ NextAuth signIn error:",e.error),alert("".concat(p("accountDisconnectFailed"),": ").concat(e.error))):(s("⚠️ NextAuth signIn unexpected result:",e),console.warn("⚠️ NextAuth signIn unexpected result:",e),alert(p("updateFailed")))}).catch(e=>{s("❌ Error during signIn process:",e),console.error("❌ Error during signIn process:",e),alert(p("updateFailed"))})}catch(e){s("❌ Error in onTelegramAuth callback:",e),console.error("❌ Error in onTelegramAuth callback:",e),alert(p("updateFailed"))}},window.onTelegramError=e=>{s("❌ Telegram widget error:",e),console.error("❌ Telegram widget error:",e),alert(p("updateFailed"))};let e=document.createElement("script");e.src="https://telegram.org/js/telegram-widget.js?22",e.async=!0,e.setAttribute("data-telegram-login",t),e.setAttribute("data-size",a),i&&e.setAttribute("data-radius",i),c&&e.setAttribute("data-request-access",c),e.setAttribute("data-userpic",u?"true":"false"),e.setAttribute("data-lang",d),e.setAttribute("data-auth-url",""),e.setAttribute("data-onauth","onTelegramAuth(user)"),e.onerror=()=>{s("❌ Failed to load Telegram widget script"),console.error("❌ Failed to load Telegram widget script"),alert(p("updateFailed"))},e.onload=()=>{s("✅ Telegram widget script loaded successfully"),console.log("✅ Telegram widget script loaded successfully")};let r=m.current.querySelector('script[src^="https://telegram.org/js/telegram-widget.js"]');r&&(s("\uD83E\uDDF9 Removing existing Telegram widget script"),m.current.removeChild(r)),s("\uD83D\uDCC2 Appending Telegram widget script to DOM"),m.current.appendChild(e);let n={"data-telegram-login":t,"data-size":a,"data-radius":i,"data-request-access":c,"data-userpic":u?"true":"false","data-lang":d,"data-auth-url":"","data-onauth":"onTelegramAuth(user)"};return s("\uD83D\uDD27 Telegram widget configuration:",n),console.log("\uD83D\uDD27 Telegram widget configuration:",n),()=>{s("\uD83E\uDDF9 Cleaning up Telegram Login Button"),delete window.onTelegramAuth,delete window.onTelegramError}}t||(s("⚠️ No botUsername provided to Telegram Login Button"),console.warn("⚠️ No botUsername provided to Telegram Login Button")),m.current||(s("⚠️ No ref.current available for Telegram Login Button"),console.warn("⚠️ No ref.current available for Telegram Login Button"))},[t,a,i,c,u,d,f]),t)?(0,r.jsx)("div",{ref:m,className:g}):(s("❌ Telegram Login Button: botUsername not provided"),(0,r.jsx)("div",{className:g,children:(0,r.jsx)("div",{className:"text-red-500 text-sm",children:p("accountDisconnectFailed")})}))}},24439:function(e,t,a){var r=a(87358),n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function s(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,s)}i((r=r.apply(e,t||[])).next())})},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderButton=function({provider:e,icon:t,label:a,className:l}){var i;let f=(0,d.useJwt)(),m=!!+(null==(i=null==r?void 0:r.env)?void 0:i.NEXT_PUBLIC_JWT_AUTH);return(0,o.jsxs)(s.Button,{onClick:t=>n(this,void 0,void 0,function*(){t.preventDefault();try{if(m){g(`Starting ${e} authentication in JWT mode`),f.id||f.update(),g(`Using JWT ID: ${f.id} for ${e} authentication`),localStorage.setItem("nextauth_jwt_id",f.id),localStorage.setItem("nextauth_jwt_provider",e),f.start();let t=`${c.API_URL}/auth/callback?jwtId=${encodeURIComponent(f.id)}&close=1`,a=`${c.API_URL}/api/auth/jwt-signin?provider=${encodeURIComponent(e)}&callbackUrl=${encodeURIComponent(t)}`;g("Opening JWT helper signin URL:",a),window.open(a,"_blank","width=600,height=700")}else g(`Starting ${e} authentication in regular mode`),yield(0,u.signIn)(e)}catch(t){console.error(`Error during ${e} authentication:`,t),g(`Error during ${e} authentication:`,t)}}),variant:"outline",className:l,type:"button",children:[t&&(0,o.jsx)("span",{className:"mr-2 h-4 w-4 inline-block",children:t}),a]})};let o=a(95155),s=a(51825),i=l(a(74684)),c=a(7546),u=a(12108),d=a(5324),g=(0,i.default)("auth:provider-button")},24597:(e,t,a)=>{var r=Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]},n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},l=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t})(t)};return function(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var l=e(t),o=0;o<l.length;o++)"default"!==l[o]&&r(a,t,l[o]);return n(a,t),a}}();Object.defineProperty(t,"__esModule",{value:!0}),t.useTelegramWebApp=function(){let[e,t]=(0,o.useState)(!0),[r,n]=(0,o.useState)(!1),[i,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),[g,f]=(0,o.useState)(null),[m,p]=(0,o.useState)(null),[h,v]=(0,o.useState)("light");(0,o.useEffect)(()=>{var e,r,o,i;e=this,r=void 0,o=void 0,i=function*(){var e,r,o;if(s("Initializing Telegram WebApp..."),"undefined"==typeof window)return void t(!1);let i=null;try{let{default:e}=yield Promise.resolve().then(()=>l(a(97728)));i=e,s("Using @twa-dev/sdk")}catch(t){i=(null==(e=window.Telegram)?void 0:e.WebApp)||null,s("Using window.Telegram.WebApp fallback")}i&&i.initData?(s("Telegram WebApp detected",{platform:i.platform,version:i.version,colorScheme:i.colorScheme,hasUser:!!(null==(r=i.initDataUnsafe)?void 0:r.user)}),n(!0),c((null==(o=i.initDataUnsafe)?void 0:o.user)||null),d(i.initData),f(i.platform||null),p(i.version||null),v(i.colorScheme||"light"),i.ready(),i.isExpanded||i.expand(),window.__telegramWebApp=i):(s("Not running in Telegram WebApp environment"),n(!1)),t(!1)},new(o||(o=Promise))(function(t,a){function n(e){try{s(i.next(e))}catch(e){a(e)}}function l(e){try{s(i.throw(e))}catch(e){a(e)}}function s(e){var a;e.done?t(e.value):((a=e.value)instanceof o?a:new o(function(e){e(a)})).then(n,l)}s((i=i.apply(e,r||[])).next())})},[]);let x=()=>window.__telegramWebApp,j=(0,o.useCallback)(()=>{let e=x();e&&e.ready&&e.ready()},[]),b=(0,o.useCallback)(()=>{let e=x();e&&e.close&&e.close()},[]),w=(0,o.useCallback)(()=>{let e=x();e&&e.expand&&e.expand()},[]),y=(0,o.useCallback)(e=>new Promise(t=>{let a=x();a&&a.showAlert?a.showAlert(e,t):(alert(e),t())}),[]),C=(0,o.useCallback)(e=>new Promise(t=>{let a=x();a&&a.showConfirm?a.showConfirm(e,t):t(confirm(e))}),[]),N={setText:(0,o.useCallback)(e=>{let t=x();t&&t.MainButton&&t.MainButton.setText(e)},[]),setOnClick:(0,o.useCallback)(e=>{let t=x();t&&t.MainButton&&t.MainButton.onClick(e)},[]),show:(0,o.useCallback)(()=>{let e=x();e&&e.MainButton&&e.MainButton.show()},[]),hide:(0,o.useCallback)(()=>{let e=x();e&&e.MainButton&&e.MainButton.hide()},[]),enable:(0,o.useCallback)(()=>{let e=x();e&&e.MainButton&&e.MainButton.enable()},[]),disable:(0,o.useCallback)(()=>{let e=x();e&&e.MainButton&&e.MainButton.disable()},[]),showProgress:(0,o.useCallback)(()=>{let e=x();e&&e.MainButton&&e.MainButton.showProgress()},[]),hideProgress:(0,o.useCallback)(()=>{let e=x();e&&e.MainButton&&e.MainButton.hideProgress()},[])};return{isInTelegram:r,isLoading:e,user:i,initData:u,platform:g,version:m,colorScheme:h,ready:j,close:b,expand:w,showAlert:y,showConfirm:C,mainButton:N,backButton:{setOnClick:(0,o.useCallback)(e=>{let t=x();t&&t.BackButton&&t.BackButton.onClick(e)},[]),show:(0,o.useCallback)(()=>{let e=x();e&&e.BackButton&&e.BackButton.show()},[]),hide:(0,o.useCallback)(()=>{let e=x();e&&e.BackButton&&e.BackButton.hide()},[])},haptic:{impact:(0,o.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"medium",t=x();t&&t.HapticFeedback&&t.HapticFeedback.impactOccurred(e)},[]),notification:(0,o.useCallback)(e=>{let t=x();t&&t.HapticFeedback&&t.HapticFeedback.notificationOccurred(e)},[]),selection:(0,o.useCallback)(()=>{let e=x();e&&e.HapticFeedback&&e.HapticFeedback.selectionChanged()},[])}}};let o=a(12115),s=(0,function(e){return e&&e.__esModule?e:{default:e}}(a(74684)).default)("hooks:use-telegram-webapp")},26589:(e,t,a)=>{var r=function(e,t,a,r){return new(a||(a=Promise))(function(n,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function s(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,s)}i((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.Accounts=function(e){let{userId:t,AccountComponent:a=p}=e,h=(0,s.useHasyx)(),v=(0,f.useTranslations)("accounts"),x=(0,f.useTranslations)("actions"),j=(0,f.useTranslations)("errors"),b=(0,f.useTranslations)("success"),w=t||h.userId,[y,C]=(0,l.useState)(!1),[N,O]=(0,l.useState)(null),[A,D]=(0,l.useState)(!1),[T,_]=(0,l.useState)(!1),{data:P=[],error:k,loading:S,refetch:B}=(0,s.useQuery)({table:"accounts",where:{user_id:{_eq:w}},returning:["id","provider","user_id"]},{skip:!w,role:"me"}),M=e=>{O(e),C(!0)},E=e=>r(this,void 0,void 0,function*(){if(h){D(!0);try{yield h.delete({table:"accounts",where:{id:{_eq:e.id}}}),g.toast.success(b("accountDisconnected",{provider:e.provider})),B()}catch(e){m("Error deleting account:",e),g.toast.error(j("accountDisconnectFailed"))}finally{D(!1)}}});return w?S?(0,n.jsxs)("div",{className:"flex items-center justify-center px-2 py-1",children:[(0,n.jsx)(i.Loader2,{className:"h-4 w-4 animate-spin mr-2"}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:v("loading")})]}):0===P.length?(0,n.jsx)("div",{className:"text-sm text-muted-foreground px-2 py-1",children:v("noConnected")}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"space-y-3",children:[P.map(e=>(0,n.jsx)(a,{account:e,delete:()=>M(e),_delete:()=>E(e)},e.id)),(0,n.jsxs)(o.Button,{variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>_(!0),children:[(0,n.jsx)(i.Plus,{className:"h-4 w-4"}),(0,n.jsx)("span",{children:v("addAccount")})]})]}),(0,n.jsx)(c.AlertDialog,{open:y,onOpenChange:C,children:(0,n.jsxs)(c.AlertDialogContent,{children:[(0,n.jsxs)(c.AlertDialogHeader,{children:[(0,n.jsx)(c.AlertDialogTitle,{children:v("disconnectTitle")}),(0,n.jsx)(c.AlertDialogDescription,{children:v("disconnectDescription",{provider:(null==N?void 0:N.provider)||""})})]}),(0,n.jsxs)(c.AlertDialogFooter,{children:[(0,n.jsx)(c.AlertDialogCancel,{children:x("cancel")}),(0,n.jsxs)(c.AlertDialogAction,{onClick:()=>r(this,void 0,void 0,function*(){N&&(yield E(N),C(!1),O(null))}),disabled:A,className:"bg-red-600 hover:bg-red-700",children:[A&&(0,n.jsx)(i.Loader2,{className:"h-4 w-4 animate-spin mr-2"}),x("disconnect")]})]})]})}),(0,n.jsx)(u.Dialog,{open:T,onOpenChange:_,children:(0,n.jsxs)(u.DialogContent,{className:"sm:max-w-[425px]",children:[(0,n.jsxs)(u.DialogHeader,{children:[(0,n.jsx)(u.DialogTitle,{children:v("addAccountTitle")}),(0,n.jsx)(u.DialogDescription,{children:v("addAccountDescription")})]}),(0,n.jsx)("div",{className:"py-4",children:(0,n.jsx)(d.OAuthButtons,{})})]})})]}):(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:v("noUserId")})};let n=a(95155),l=a(12115),o=a(51825),s=a(259),i=a(47937),c=a(1448),u=a(98717),d=a(5716),g=a(55428),f=a(259),m=(0,function(e){return e&&e.__esModule?e:{default:e}}(a(74684)).default)("accounts");function p(e){let{account:t,delete:a}=e;return(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[function(e){let t="h-4 w-4";switch(e.toLowerCase()){case"google":return(0,n.jsxs)("svg",{className:t,viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,n.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,n.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,n.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});case"github":return(0,n.jsx)("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})});case"yandex":return(0,n.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:(0,n.jsx)("path",{fill:"#FC3F1D",d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.568 8.16c0 3.123-1.968 4.608-3.744 4.608-.72 0-1.296-.24-1.728-.624v3.696h-1.632V6.72h1.632v.624c.432-.384 1.008-.624 1.728-.624 1.776 0 3.744 1.485 3.744 4.44zm-1.632 0c0-1.968-.96-3.024-2.256-3.024s-2.256 1.056-2.256 3.024.96 3.024 2.256 3.024 2.256-1.056 2.256-3.024z"})});case"telegram":return(0,n.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})});default:return(0,n.jsx)("div",{className:"".concat(t," bg-gray-300 rounded-full flex items-center justify-center text-xs font-bold text-gray-600"),children:e.charAt(0).toUpperCase()})}}(t.provider),(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)("span",{className:"text-sm font-medium capitalize",children:t.provider})})]}),(0,n.jsx)(o.Button,{variant:"outline",size:"sm",onClick:a,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,n.jsx)(i.Trash2,{className:"h-4 w-4"})})]})}},48589:(e,t,a)=>{var r=function(e,t,a,r){return new(a||(a=Promise))(function(n,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function s(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(o,s)}i((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.TelegramWebAppAuth=function(e){var t,a;let{onSuccess:c,onError:p,className:h,autoAuth:v=!0}=e,x=(0,f.useTranslations)("auth.telegramWebapp"),[j,b]=(0,g.useState)(!1),[w,y]=(0,g.useState)(null),{data:C,status:N}=(0,d.useSession)(),{isInTelegram:O,isLoading:A,user:D,initData:T,platform:_,version:P,colorScheme:k,showAlert:S,haptic:B}=(0,i.useTelegramWebApp)();(0,g.useEffect)(()=>{v&&O&&D&&T&&"unauthenticated"===N&&!j&&!w&&(m("Auto-authenticating Telegram user",{userId:D.id,username:D.username}),E())},[v,O,D,T,N,j,w]);let M=(0,g.useCallback)(e=>r(this,void 0,void 0,function*(){console.log("\uD83D\uDD04 Client: validateInitData called");try{console.log("\uD83D\uDD04 Client: Making POST request to /api/auth/verify-telegram-webapp"),m("Validating initData with server...");let t=yield fetch("/api/auth/verify-telegram-webapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initData:e})});console.log("\uD83D\uDD04 Client: Response status:",t.status),console.log("\uD83D\uDD04 Client: Response ok:",t.ok);let a=yield t.json();return console.log("\uD83D\uDD04 Client: Response JSON:",a),m("Server validation result:",{success:a.success||a.valid}),!0===a.success||!0===a.valid}catch(e){return console.error("\uD83D\uDD34 Client: Error validating initData:",e),m("Error validating initData:",e),!1}}),[]),E=(0,g.useCallback)(()=>r(this,void 0,void 0,function*(){if(console.log("\uD83D\uDD04 Starting handleTelegramAuth"),console.log("\uD83D\uDD04 InitData length:",null==T?void 0:T.length),console.log("\uD83D\uDD04 User:",D),!T||!D){let e="Telegram WebApp not initialized or no user data";console.error("\uD83D\uDD34 Missing data:",{initData:!!T,user:!!D}),m(e),y(e),null==p||p(e);return}b(!0),y(null),console.log("\uD83D\uDD04 Starting Telegram WebApp authentication..."),m("Starting Telegram WebApp authentication...");try{B.impact("light"),console.log("\uD83D\uDD04 Validating initData with server...");let e=yield M(T);if(console.log("\uD83D\uDD04 Server validation result:",e),!e)throw console.error("\uD83D\uDD34 Server validation failed"),Error("Invalid Telegram data");console.log("✅ Server validation passed, calling NextAuth signIn..."),m("Calling NextAuth signIn with validated data...");let t=yield(0,d.signIn)("telegram-miniapp",{initData:T,redirect:!1});if(console.log("\uD83D\uDD04 NextAuth signIn result:",t),m("NextAuth signIn result:",t),null==t?void 0:t.ok)m("Authentication successful"),B.notification("success"),null==c||c(D);else throw Error((null==t?void 0:t.error)||"Authentication failed")}catch(t){m("Authentication error:",t);let e=t.message||"Authentication failed";console.error("\uD83D\uDD34 Telegram auth error:",e,t),y(e),B.notification("error"),null==p||p(e)}finally{b(!1)}}),[T,D,c,p,M,B,S]);return A?(0,n.jsx)(s.Card,{className:h,children:(0,n.jsxs)(s.CardHeader,{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(u.Loader2,{className:"h-5 w-5 animate-spin"}),(0,n.jsx)(s.CardTitle,{className:"text-lg",children:x("loadingTitle")})]}),(0,n.jsx)(s.CardDescription,{children:x("loadingDescription")})]})}):"authenticated"===N?(0,n.jsxs)(s.Card,{className:h,children:[(0,n.jsxs)(s.CardHeader,{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(u.CheckCircle,{className:"h-5 w-5 text-green-500"}),(0,n.jsx)(s.CardTitle,{className:"text-lg",children:x("alreadyAuthenticatedTitle")})]}),(0,n.jsx)(s.CardDescription,{children:x("alreadyAuthenticatedDescription",{user:(null==(t=C.user)?void 0:t.name)||(null==(a=C.user)?void 0:a.email)||""})})]}),(0,n.jsx)(s.CardContent,{children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)(l.Badge,{variant:"secondary",children:[x("provider"),": ",(null==C?void 0:C.provider)||x("unknown")]}),O&&(0,n.jsxs)(l.Badge,{variant:"outline",children:[(0,n.jsx)(u.Smartphone,{className:"h-3 w-3 mr-1"}),x("telegramWebapp")]})]})})]}):O?(0,n.jsxs)(s.Card,{className:h,children:[(0,n.jsxs)(s.CardHeader,{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-[#0088cc] rounded-full flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:(0,n.jsx)("path",{d:"m12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"})})}),(0,n.jsx)(s.CardTitle,{className:"text-lg",children:x("title")})]}),(0,n.jsx)(s.CardDescription,{children:x("description")})]}),(0,n.jsxs)(s.CardContent,{className:"space-y-4",children:[D&&(0,n.jsx)("div",{className:"p-3 bg-muted rounded-lg",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[D.photo_url&&(0,n.jsx)("img",{src:D.photo_url,alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"font-medium",children:[D.first_name," ",D.last_name||""]}),D.username&&(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",D.username]})]}),D.is_premium&&(0,n.jsx)(l.Badge,{variant:"secondary",className:"ml-auto",children:x("premium")})]})}),w&&(0,n.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(u.AlertCircle,{className:"h-4 w-4 text-destructive"}),(0,n.jsx)("p",{className:"text-sm text-destructive",children:w})]})}),(0,n.jsx)(o.Button,{onClick:E,disabled:j||!D||!T,className:"w-full",size:"lg",children:j?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),x("authenticating")]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Smartphone,{className:"mr-2 h-4 w-4"}),x("signInWithTelegram")]})}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[(0,n.jsxs)(l.Badge,{variant:"outline",className:"px-2 py-1",children:[x("platform"),": ",_||x("unknown")]}),P&&(0,n.jsxs)(l.Badge,{variant:"outline",className:"px-2 py-1",children:[x("version"),": ",P]}),(0,n.jsxs)(l.Badge,{variant:"outline",className:"px-2 py-1",children:[x("theme"),": ",k]})]})]})]}):(0,n.jsxs)(s.Card,{className:h,children:[(0,n.jsxs)(s.CardHeader,{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(u.AlertCircle,{className:"h-5 w-5 text-amber-500"}),(0,n.jsx)(s.CardTitle,{className:"text-lg",children:x("notInTelegramTitle")})]}),(0,n.jsx)(s.CardDescription,{children:x("notInTelegramDescription")})]}),(0,n.jsx)(s.CardContent,{children:(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:x("notInTelegramNote")})})]})};let n=a(95155),l=a(51364),o=a(51825),s=a(53959),i=a(24597),c=function(e){return e&&e.__esModule?e:{default:e}}(a(74684)),u=a(47937),d=a(12108),g=a(12115),f=a(259),m=(0,c.default)("auth:telegram-webapp")},49033:(e,t,a)=>{e.exports=a(22436)},71646:(e,t,a)=>{var r=Object.create,n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,c=(e,t,a,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))i.call(e,s)||s===a||n(e,s,{get:()=>t[s],enumerable:!(r=l(t,s))||r.enumerable});return e},u={};((e,t)=>{for(var a in t)n(e,a,{get:t[a],enumerable:!0})})(u,{Avatar:()=>C,AvatarFallback:()=>D,AvatarImage:()=>O,Fallback:()=>k,Image:()=>P,Root:()=>_,createAvatarScope:()=>b}),e.exports=c(n({},"__esModule",{value:!0}),u);var d=((e,t,a)=>(a=null!=e?r(s(e)):{},c(!t&&e&&e.__esModule?a:n(a,"default",{value:e,enumerable:!0}),e)))(a(12115)),g=a(86398),f=a(81946),m=a(27633),p=a(4780),h=a(73951),v=a(95155),x="Avatar",[j,b]=(0,g.createContextScope)(x),[w,y]=j(x),C=d.forwardRef((e,t)=>{let{__scopeAvatar:a,...r}=e,[n,l]=d.useState("idle");return(0,v.jsx)(w,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,v.jsx)(p.Primitive.span,{...r,ref:t})})});C.displayName=x;var N="AvatarImage",O=d.forwardRef((e,t)=>{let{__scopeAvatar:a,src:r,onLoadingStatusChange:n=()=>{},...l}=e,o=y(N,a),s=function(e,t){let{referrerPolicy:a,crossOrigin:r}=t,n=(0,h.useIsHydrated)(),l=d.useRef(null),o=n?(l.current||(l.current=new window.Image),l.current):null,[s,i]=d.useState(()=>T(o,e));return(0,m.useLayoutEffect)(()=>{i(T(o,e))},[o,e]),(0,m.useLayoutEffect)(()=>{let e=e=>()=>{i(e)};if(!o)return;let t=e("loaded"),n=e("error");return o.addEventListener("load",t),o.addEventListener("error",n),a&&(o.referrerPolicy=a),"string"==typeof r&&(o.crossOrigin=r),()=>{o.removeEventListener("load",t),o.removeEventListener("error",n)}},[o,r,a]),s}(r,l),i=(0,f.useCallbackRef)(e=>{n(e),o.onImageLoadingStatusChange(e)});return(0,m.useLayoutEffect)(()=>{"idle"!==s&&i(s)},[s,i]),"loaded"===s?(0,v.jsx)(p.Primitive.img,{...l,ref:t,src:r}):null});O.displayName=N;var A="AvatarFallback",D=d.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:r,...n}=e,l=y(A,a),[o,s]=d.useState(void 0===r);return d.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&"loaded"!==l.imageLoadingStatus?(0,v.jsx)(p.Primitive.span,{...n,ref:t}):null});function T(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}D.displayName=A;var _=C,P=O,k=D},73951:(e,t,a)=>{var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var a in t)r(e,a,{get:t[a],enumerable:!0})})(s,{useIsHydrated:()=>c}),e.exports=((e,t,a,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of l(t))o.call(e,i)||i===a||r(e,i,{get:()=>t[i],enumerable:!(s=n(t,i))||s.enumerable});return e})(r({},"__esModule",{value:!0}),s);var i=a(49033);function c(){return(0,i.useSyncExternalStore)(u,()=>!0,()=>!1)}function u(){return()=>{}}},98717:(e,t,a)=>{var r=Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]},n=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},l=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[t.length]=a);return t})(t)};return function(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var l=e(t),o=0;o<l.length;o++)"default"!==l[o]&&r(a,t,l[o]);return n(a,t),a}}(),o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=function(e){var t=o(e,[]);return(0,s.jsx)(i.Root,Object.assign({"data-slot":"dialog"},t))},t.DialogClose=function(e){var t=o(e,[]);return(0,s.jsx)(i.Close,Object.assign({"data-slot":"dialog-close"},t))},t.DialogContent=function(e){var{className:t,children:a,close:r}=e,n=o(e,["className","children","close"]);return(0,s.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,s.jsx)(g,{}),(0,s.jsxs)(i.Content,Object.assign({"data-slot":"dialog-content",className:(0,u.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t)},n,{children:[a,!!r&&(0,s.jsxs)(i.Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(c.XIcon,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})},t.DialogDescription=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Description,Object.assign({"data-slot":"dialog-description",className:(0,u.cn)("text-muted-foreground text-sm",t)},a))},t.DialogFooter=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)("div",Object.assign({"data-slot":"dialog-footer",className:(0,u.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t)},a))},t.DialogHeader=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)("div",Object.assign({"data-slot":"dialog-header",className:(0,u.cn)("flex flex-col gap-2 text-center sm:text-left",t)},a))},t.DialogOverlay=g,t.DialogPortal=d,t.DialogTitle=function(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Title,Object.assign({"data-slot":"dialog-title",className:(0,u.cn)("text-lg leading-none font-semibold",t)},a))},t.DialogTrigger=function(e){var t=o(e,[]);return(0,s.jsx)(i.Trigger,Object.assign({"data-slot":"dialog-trigger"},t))};let s=a(95155),i=l(a(53285)),c=a(47937),u=a(27010);function d(e){var t=o(e,[]);return(0,s.jsx)(i.Portal,Object.assign({"data-slot":"dialog-portal"},t))}function g(e){var{className:t}=e,a=o(e,["className"]);return(0,s.jsx)(i.Overlay,Object.assign({"data-slot":"dialog-overlay",className:(0,u.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t)},a))}}}]);
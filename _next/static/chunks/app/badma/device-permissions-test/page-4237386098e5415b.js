(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5493],{1272:e=>{function s(e,s,t,n){return Math.round(e/t)+" "+n+(s>=1.5*t?"s":"")}e.exports=function(e,t){t=t||{};var n,r,i,o,a=typeof e;if("string"===a&&e.length>0){var c=e;if(!((c=String(c)).length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(l){var d=parseFloat(l[1]);switch((l[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*d;case"weeks":case"week":case"w":return 6048e5*d;case"days":case"day":case"d":return 864e5*d;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*d;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*d;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:break}}}return}if("number"===a&&isFinite(e)){return t.long?(r=Math.abs(n=e))>=864e5?s(n,r,864e5,"day"):r>=36e5?s(n,r,36e5,"hour"):r>=6e4?s(n,r,6e4,"minute"):r>=1e3?s(n,r,1e3,"second"):n+" ms":(o=Math.abs(i=e))>=864e5?Math.round(i/864e5)+"d":o>=36e5?Math.round(i/36e5)+"h":o>=6e4?Math.round(i/6e4)+"m":o>=1e3?Math.round(i/1e3)+"s":i+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7038:(e,s,t)=>{"use strict";t.d(s,{DevicePermissionsTestClient:()=>o});var n=t(95155),r=t(12115),i=t(72446);function o(){let[e,s]=(0,r.useState)(!1),[t,o]=(0,r.useState)([]),a=(0,i.sn)(!0),c=(0,i.mu)(!0),l=(0,i._L)("motion",{autoRequest:!1}),d=(0,i._L)("orientation",{autoRequest:!1}),u=e=>{let s=new Date().toLocaleTimeString();o(t=>[...t,"[".concat(s,"] ").concat(e)])};(0,r.useEffect)(()=>{u("Auto Motion Permission: ".concat(a.permissionStatus))},[a.permissionStatus]),(0,r.useEffect)(()=>{u("Auto Orientation Permission: ".concat(c.permissionStatus))},[c.permissionStatus]),(0,r.useEffect)(()=>{u("Manual Motion Permission: ".concat(l.permissionStatus))},[l.permissionStatus]),(0,r.useEffect)(()=>{u("Manual Orientation Permission: ".concat(d.permissionStatus))},[d.permissionStatus]);let m=e=>{switch(e){case"granted":return"bg-green-500";case"denied":return"bg-red-500";case"requesting":return"bg-yellow-500";default:return"bg-gray-500"}};return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-8 bg-gray-900 text-white",children:(0,n.jsxs)("div",{className:"max-w-4xl w-full space-y-8",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Device Permissions Test"}),(0,n.jsx)("p",{className:"text-xl text-gray-300",children:"Testing auto-request and manual permission handling"})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Auto-Request Permissions"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Motion (Auto)"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Supported:"}),(0,n.jsx)("span",{className:a.isSupported?"text-green-400":"text-red-400",children:a.isSupported?"Yes":"No"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Status:"}),(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(m(a.permissionStatus)),children:a.permissionStatus})]})]})]}),(0,n.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Orientation (Auto)"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Supported:"}),(0,n.jsx)("span",{className:c.isSupported?"text-green-400":"text-red-400",children:c.isSupported?"Yes":"No"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Status:"}),(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(m(c.permissionStatus)),children:c.permissionStatus})]})]})]})]})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Manual Permissions"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Motion (Manual)"}),(0,n.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Supported:"}),(0,n.jsx)("span",{className:l.isSupported?"text-green-400":"text-red-400",children:l.isSupported?"Yes":"No"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Status:"}),(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(m(l.permissionStatus)),children:l.permissionStatus})]})]}),(0,n.jsx)("button",{onClick:l.requestPermission,disabled:"requesting"===l.permissionStatus,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:"requesting"===l.permissionStatus?"Requesting...":"Request Permission"})]}),(0,n.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Orientation (Manual)"}),(0,n.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Supported:"}),(0,n.jsx)("span",{className:d.isSupported?"text-green-400":"text-red-400",children:d.isSupported?"Yes":"No"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Status:"}),(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(m(d.permissionStatus)),children:d.permissionStatus})]})]}),(0,n.jsx)("button",{onClick:d.requestPermission,disabled:"requesting"===d.permissionStatus,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:"requesting"===d.permissionStatus?"Requesting...":"Request Permission"})]})]})]}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold",children:"Permission Logs"}),(0,n.jsxs)("button",{onClick:()=>s(!e),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[e?"Hide":"Show"," Logs"]})]}),e&&(0,n.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 max-h-60 overflow-y-auto",children:(0,n.jsx)("div",{className:"space-y-1 text-sm font-mono",children:t.map((e,s)=>(0,n.jsx)("div",{className:"text-gray-300",children:e},s))})})]}),(0,n.jsxs)("div",{className:"bg-blue-900/50 rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Instructions"}),(0,n.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,n.jsxs)("li",{children:["• The ",(0,n.jsx)("strong",{children:"Auto-Request"})," permissions should automatically request on page load"]}),(0,n.jsxs)("li",{children:["• The ",(0,n.jsx)("strong",{children:"Manual"})," permissions require button clicks to request"]}),(0,n.jsx)("li",{children:"• On iOS Safari, you may need to interact with the page first before permissions can be requested"}),(0,n.jsx)("li",{children:"• Check the logs to see permission status changes"}),(0,n.jsx)("li",{children:"• Open browser console to see additional debug information"})]})]})]})})}},13853:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var n=t(28944),r=t.n(n),i=t(80239);let o=r()(i.UU),a=function(e){return o.extend(e||"app")}},19098:(e,s,t)=>{Promise.resolve().then(t.bind(t,7038))},28944:(e,s,t)=>{var n=t(87358);s.formatArgs=function(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;s.splice(1,0,t,"color: inherit");let n=0,r=0;s[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))}),s.splice(r,0,t)},s.save=function(e){try{e?s.storage.setItem("debug",e):s.storage.removeItem("debug")}catch(e){}},s.load=function(){let e;try{e=s.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},s.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage=function(){try{return localStorage}catch(e){}}(),s.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],s.log=console.debug||console.log||(()=>{}),e.exports=t(80849)(s);let{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},72446:(e,s,t)=>{"use strict";t.d(s,{_L:()=>i,mu:()=>a,sn:()=>o});var n=t(12115);let r=(0,t(13853).A)("device-permissions"),i=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{autoRequest:t=!1}=s,[i,o]=(0,n.useState)("unknown"),[a,c]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),u=(0,n.useRef)(!1),m=(0,n.useCallback)(async()=>{let s,t;if("motion"===e?(s="undefined"!=typeof DeviceMotionEvent?DeviceMotionEvent:void 0,t="device motion"):(s="undefined"!=typeof DeviceOrientationEvent?DeviceOrientationEvent:void 0,t="device orientation"),!s||!("requestPermission"in s))return u.current=!0,o("granted"),!0;o("requesting");try{let e=await s.requestPermission(),t="granted"===e;return u.current=t,o(t?"granted":"denied"),t||c(!0),t}catch(e){return console.error("Error requesting ".concat(t," permission:"),e),o("denied"),c(!0),!1}},[e]),p="motion"===e?"undefined"!=typeof DeviceMotionEvent:"undefined"!=typeof DeviceOrientationEvent,h=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;return(0,n.useEffect)(()=>{if(t&&p&&!l){if(r("Auto-requesting ".concat(e," permission...")),d(!0),h()){r("iOS detected, setting needsUserInteraction for ".concat(e)),c(!0);return}let s=setTimeout(async()=>{try{let s=await m();r("Auto-request result for ".concat(e,":"),s)}catch(s){r("Auto-request failed for ".concat(e,":"),s),c(!0)}},100);return()=>clearTimeout(s)}r("Auto-request skipped for ".concat(e,":"),{autoRequest:t,isSupported:p,hasWindow:!0,hasTriedAutoRequest:l})},[t,p,m,e,l]),{permissionStatus:i,requestPermission:m,isSupported:p,needsUserInteraction:a,hasTriedAutoRequest:l}},o=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return i("motion",{autoRequest:e})},a=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return i("orientation",{autoRequest:e})}},80239:e=>{"use strict";e.exports=JSON.parse('{"UU":"badma","rE":"0.1.0-alpha.32"}')},80849:(e,s,t)=>{e.exports=function(e){function s(e){let t,r,i,o=null;function a(...e){if(!a.enabled)return;let n=Number(new Date);a.diff=n-(t||n),a.prev=t,a.curr=n,t=n,e[0]=s.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let r=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,n)=>{if("%%"===t)return"%";r++;let i=s.formatters[n];if("function"==typeof i){let s=e[r];t=i.call(a,s),e.splice(r,1),r--}return t}),s.formatArgs.call(a,e),(a.log||s.log).apply(a,e)}return a.namespace=e,a.useColors=s.useColors(),a.color=s.selectColor(e),a.extend=n,a.destroy=s.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==s.namespaces&&(r=s.namespaces,i=s.enabled(e)),i),set:e=>{o=e}}),"function"==typeof s.init&&s.init(a),a}function n(e,t){let n=s(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function r(e,s){let t=0,n=0,r=-1,i=0;for(;t<e.length;)if(n<s.length&&(s[n]===e[t]||"*"===s[n]))"*"===s[n]?(r=n,i=t):t++,n++;else{if(-1===r)return!1;n=r+1,t=++i}for(;n<s.length&&"*"===s[n];)n++;return n===s.length}return s.debug=s,s.default=s,s.coerce=function(e){return e instanceof Error?e.stack||e.message:e},s.disable=function(){let e=[...s.names,...s.skips.map(e=>"-"+e)].join(",");return s.enable(""),e},s.enable=function(e){for(let t of(s.save(e),s.namespaces=e,s.names=[],s.skips=[],("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean)))"-"===t[0]?s.skips.push(t.slice(1)):s.names.push(t)},s.enabled=function(e){for(let t of s.skips)if(r(e,t))return!1;for(let t of s.names)if(r(e,t))return!0;return!1},s.humanize=t(1272),s.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(t=>{s[t]=e[t]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=function(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s)|0;return s.colors[Math.abs(t)%s.colors.length]},s.enable(s.load()),s}}},e=>{var s=s=>e(e.s=s);e.O(0,[8441,1684,7358],()=>s(19098)),_N_E=e.O()}]);
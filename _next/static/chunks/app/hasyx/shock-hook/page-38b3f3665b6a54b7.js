(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7943],{25075:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.useDeviceMotion=void 0;let s=n(12115),r=n(65487);t.useDeviceMotion=(e,t={})=>{let{threshold:n=15,cooldown:o=300,requirePermission:a=!0}=t,l=(0,s.useRef)(0),d=(0,r.useDevicePermissions)("motion"),c=(0,s.useCallback)(t=>{let i=Date.now();if(i-l.current<o)return;let s=t.accelerationIncludingGravity;if(!s||null===s.x||null===s.y||null===s.z)return;let r=Math.sqrt(s.x*s.x+s.y*s.y+s.z*s.z);r>n&&(l.current=i,e({acceleration:{x:s.x,y:s.y,z:s.z},magnitude:r,timestamp:i}))},[e,n,o]);return(0,s.useEffect)(()=>{let e=i(void 0,void 0,void 0,function*(){if("undefined"!=typeof window&&(!a||"granted"===d.permissionStatus||(yield d.requestPermission())))return window.addEventListener("devicemotion",c,!0),()=>{window.removeEventListener("devicemotion",c,!0)}});return()=>{e.then(e=>null==e?void 0:e())}},[c,a,d]),{requestPermission:d.requestPermission,isSupported:d.isSupported,permissionGranted:"granted"===d.permissionStatus,permissionStatus:d.permissionStatus}}},27049:(e,t,n)=>{Promise.resolve().then(n.bind(n,91281))},65487:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function o(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDeviceOrientationPermissions=t.useDeviceMotionPermissions=t.useDevicePermissions=void 0;let r=n(12115),o=(0,s(n(74684)).default)("device-permissions");t.useDevicePermissions=(e,t={})=>{let{autoRequest:n=!1}=t,[s,a]=(0,r.useState)("unknown"),[l,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),m=(0,r.useRef)(!1),x=(0,r.useCallback)(()=>i(void 0,void 0,void 0,function*(){let t,n;if("motion"===e?(t="undefined"!=typeof DeviceMotionEvent?DeviceMotionEvent:void 0,n="device motion"):(t="undefined"!=typeof DeviceOrientationEvent?DeviceOrientationEvent:void 0,n="device orientation"),!t||!("requestPermission"in t))return m.current=!0,a("granted"),!0;a("requesting");try{let e=yield t.requestPermission(),n="granted"===e;return m.current=n,a(n?"granted":"denied"),n||d(!0),n}catch(e){return console.error(`Error requesting ${n} permission:`,e),a("denied"),d(!0),!1}}),[e]),f="motion"===e?"undefined"!=typeof DeviceMotionEvent:"undefined"!=typeof DeviceOrientationEvent,v=()=>"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;return(0,r.useEffect)(()=>{if(n&&f&&"undefined"!=typeof window&&!c){if(o(`Auto-requesting ${e} permission...`),u(!0),v()){o(`iOS detected, setting needsUserInteraction for ${e}`),d(!0);return}let t=setTimeout(()=>i(void 0,void 0,void 0,function*(){try{let t=yield x();o(`Auto-request result for ${e}:`,t)}catch(t){o(`Auto-request failed for ${e}:`,t),d(!0)}}),100);return()=>clearTimeout(t)}o(`Auto-request skipped for ${e}:`,{autoRequest:n,isSupported:f,hasWindow:"undefined"!=typeof window,hasTriedAutoRequest:c})},[n,f,x,e,c]),{permissionStatus:s,requestPermission:x,isSupported:f,needsUserInteraction:l,hasTriedAutoRequest:c}},t.useDeviceMotionPermissions=(e=!0)=>(0,t.useDevicePermissions)("motion",{autoRequest:e}),t.useDeviceOrientationPermissions=(e=!0)=>(0,t.useDevicePermissions)("orientation",{autoRequest:e})},91281:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var i=n(95155),s=n(59918),r=n(80239),o=n(2693),a=n(12115),l=n(25075);function d(){let[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(null),[r,o]=(0,a.useState)(0),[d,c]=(0,a.useState)(""),{requestPermission:u,isSupported:m,permissionGranted:x,permissionStatus:f}=(0,l.useDeviceMotion)(e=>{t(!0),s(e),o(e=>e+1),c(new Date().toLocaleTimeString()),setTimeout(()=>t(!1),100)},{threshold:15,cooldown:300,requirePermission:!0});return(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 text-neutral-100",children:[(0,i.jsxs)("div",{className:"text-center mb-10",children:[(0,i.jsx)("h1",{className:"text-2xl font-semibold",children:"Shake Demo"}),(0,i.jsx)("p",{className:"text-neutral-400 text-sm",children:"Shake your device to trigger glow"})]}),(0,i.jsx)("div",{className:"mb-10 relative",children:(0,i.jsxs)("div",{className:"w-48 h-48 rounded-full transition-all ".concat(e?"bg-cyan-400 shadow-[0_0_60px_12px_rgba(34,211,238,0.8)] scale-110":"bg-neutral-700 shadow scale-100"),style:{background:e?"radial-gradient(circle, #06b6d4, #0891b2, #0e7490)":"radial-gradient(circle, #3f3f46, #262626, #171717)",transition:e?"all 80ms ease-out":"all 1600ms cubic-bezier(0.23,1,0.32,1)"},children:[(0,i.jsx)("div",{className:"absolute inset-4 rounded-full transition-all ".concat(e?"bg-white/30 shadow-inner":"bg-neutral-600/20")}),(0,i.jsx)("div",{className:"absolute inset-16 rounded-full transition-all ".concat(e?"bg-white shadow":"bg-neutral-500")})]})}),(0,i.jsx)("div",{className:"mb-6 p-4 rounded-lg bg-neutral-900 border border-neutral-800 w-[320px]",children:(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-neutral-300",children:"Supported:"}),(0,i.jsx)("span",{className:m?"text-emerald-400":"text-red-400",children:m?"Yes":"No"})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-neutral-300",children:"Permission:"}),(0,i.jsx)("span",{className:"text-neutral-200",children:f})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-neutral-300",children:"Shock Count:"}),(0,i.jsx)("span",{className:"text-neutral-100 font-mono",children:r})]}),d&&(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-neutral-300",children:"Last Shock:"}),(0,i.jsx)("span",{className:"text-neutral-100 font-mono text-xs",children:d})]})]})}),m&&"granted"!==f&&(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)("button",{onClick:u,disabled:"requesting"===f,className:"px-4 py-2 rounded-md bg-neutral-100 text-neutral-900 text-sm disabled:opacity-60",children:"requesting"===f?"Requesting...":"Grant motion permission"})}),n&&(0,i.jsx)("div",{className:"mt-8 p-4 rounded-lg bg-neutral-900 border border-neutral-800 w-[320px] text-xs text-neutral-300",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Magnitude:"})," ",n.magnitude.toFixed(2)]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"X:"})," ",n.acceleration.x.toFixed(2)]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Y:"})," ",n.acceleration.y.toFixed(2)]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Z:"})," ",n.acceleration.z.toFixed(2)]})]})]})})]})}function c(){return(0,i.jsx)(o.SidebarLayout,{sidebarData:s.A,breadcrumb:[{title:r.UU,link:"/"},{title:"Shake"}],children:(0,i.jsx)(d,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8603,8568,2178,194,8174,9072,2693,697,9918,8441,1684,7358],()=>t(27049)),_N_E=e.O()}]);